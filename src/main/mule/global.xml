<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:secure-properties="http://www.mulesoft.org/schema/mule/secure-properties"
	xmlns:file="http://www.mulesoft.org/schema/mule/file"
	xmlns:os="http://www.mulesoft.org/schema/mule/os" xmlns:validation="http://www.mulesoft.org/schema/mule/validation"
	xmlns:vm="http://www.mulesoft.org/schema/mule/vm"
	xmlns:wsc="http://www.mulesoft.org/schema/mule/wsc" xmlns:db="http://www.mulesoft.org/schema/mule/db" xmlns:apikit="http://www.mulesoft.org/schema/mule/mule-apikit" xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="
http://www.mulesoft.org/schema/mule/mule-apikit http://www.mulesoft.org/schema/mule/mule-apikit/current/mule-apikit.xsd 
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/db http://www.mulesoft.org/schema/mule/db/current/mule-db.xsd
http://www.mulesoft.org/schema/mule/wsc http://www.mulesoft.org/schema/mule/wsc/current/mule-wsc.xsd
http://www.mulesoft.org/schema/mule/vm http://www.mulesoft.org/schema/mule/vm/current/mule-vm.xsd
http://www.mulesoft.org/schema/mule/validation http://www.mulesoft.org/schema/mule/validation/current/mule-validation.xsd
http://www.mulesoft.org/schema/mule/os http://www.mulesoft.org/schema/mule/os/current/mule-os.xsd
http://www.mulesoft.org/schema/mule/file http://www.mulesoft.org/schema/mule/file/current/mule-file.xsd
http://www.mulesoft.org/schema/mule/secure-properties http://www.mulesoft.org/schema/mule/secure-properties/current/mule-secure-properties.xsd">
	    <http:listener-config name="american-flights-api-httpListenerConfig">
        <http:listener-connection host="0.0.0.0" port="8081" />
    </http:listener-config>
    <apikit:config name="american-flights-api-config" api="resource::063fb808-b4c0-4ed1-b729-5e84bd49ebad:ib-s-flights-api:2.0.0:raml:zip:american-flights-api.raml" outboundHeadersMapName="outboundHeaders" httpStatusVarName="httpStatus" />
	<wsc:config name="Web_Service_Consumer_Config" doc:name="Web Service Consumer Config" doc:id="adcf3287-8dcc-45db-a636-3337706275a8" >
		<wsc:connection wsdlLocation="http://webservices.oorsprong.org/websamples.countryinfo/CountryInfoService.wso?WSDL" service="CountryInfoService" port="CountryInfoServiceSoap" address="http://webservices.oorsprong.org/websamples.countryinfo/CountryInfoService.wso" >
			<wsc:web-service-security actor="http://schemas.xmlsoap.org/soap/actor/next" />
		</wsc:connection>
	</wsc:config>
	<vm:config name="VM_Config" doc:name="VM Config" doc:id="9e0522f6-1e41-4d99-8e26-6df64d3f8aed" >
		<vm:queues >
			<vm:queue queueName="currencyFlight" />
		</vm:queues>
	</vm:config>
	<configuration doc:name="Configuration" doc:id="bb87d63a-3a08-4365-a979-608ab62fbc75" defaultErrorHandler-ref="errorError_Handler" />
	<validation:config name="Validation_Config" doc:name="Validation Config" doc:id="cf10a69d-919a-4ed4-a053-ecd061f8e54d" />
	<os:object-store name="flightIndex" doc:name="Object store" doc:id="93ea1d1c-cf95-42ed-8fcd-1514ae0a0cb0" config-ref="ObjectStore_Config"/>
	<os:config name="ObjectStore_Config" doc:name="ObjectStore Config" doc:id="3e6a9081-3e14-4f21-b9f7-c792d6b5b270" />
	<file:config name="File_Config" doc:name="File Config" doc:id="5673be83-f7c5-4d82-a05a-2e7ff07471d4" />
	<configuration-properties doc:name="Configuration properties" doc:id="f3927514-889d-46f4-a161-3ec13dd942b8" file="config/${env}-properties.yaml" />
	<db:config name="Database_Config" doc:name="Database Config" doc:id="8389c152-f61a-4d1e-af69-1631f05d32b4" >
		<db:my-sql-connection host="${db.host}" port="${db.port}" user="${db.user}" password="${secure::db.password}" database="${db.database}"/>
	</db:config>
	<secure-properties:config name="Secure_Properties_Config" doc:name="Secure Properties Config" doc:id="7429c8db-48e6-4fcb-8d01-41fcd331b738" file="config/${env}-properties.yaml" key="${keySecret}" >
		<secure-properties:encrypt algorithm="Blowfish" />
	</secure-properties:config>
</mule>
